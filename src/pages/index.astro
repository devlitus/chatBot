---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Astro ChatBot">
  <div class="flex justify-center h-screen bg-gray-900 text-white">
    <div class="w-full max-w-[1200px] flex flex-col h-full">
      <Header />

      <!-- Messages -->
      <main id="messages-container" class="flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar">
        <!-- Messages will be loaded here from IndexedDB -->
      </main>

      <!-- Loading Indicator -->
      <div id="loading-indicator" class="hidden flex flex-col justify-center items-center p-4" role="status" aria-live="polite">
        <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"></div>
      </div>

      <Footer />
    </div>
  </div>
</Layout>

<style>
.no-scrollbar::-webkit-scrollbar {
    display: none;
}
.no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
</style>

<script src="../utils/chat.ts"></script>
